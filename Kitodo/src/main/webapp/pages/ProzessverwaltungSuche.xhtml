<!DOCTYPE html>
<!--
 *
 * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>
 *
 * This file is part of the Kitodo project.
 *
 * It is licensed under GNU General Public License version 3 or later.
 *
 * For the full copyright and license information, please read the
 * GPL3-License.txt file that was distributed with this source code.
 *
-->

<!-- ########################################

        Suchmaske für Prozesse

        #########################################-->

<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    >
    <f:view locale="#{SpracheForm.locale}">
        <ui:include src="inc/head.xhtml" />
        <h:body>

            <table cellspacing="5" cellpadding="0" class="layoutTable" align="center">
                <ui:include src="inc/tbl_Kopf.xhtml" />
                <tr>
                    <ui:include src="inc/tbl_Navigation.xhtml" />
                    <td valign="top" class="layoutInhalt">

                        <!-- ++++++++++++++++     Inhalt      ++++++++++++++++ -->
                        <h:form id="searchform" onkeypress="ifEnterClick(event, 'searchform:absenden');">
                            <!-- Breadcrumb -->
                            <h:panelGrid width="100%" columns="1" styleClass="layoutInhaltKopf">
                                <h:panelGroup>
                                    <h:link value="#{msgs.startseite}" outcome="/pages/Main" id="mainlink"/>
                                    <f:verbatim> &#8250;&#8250; </f:verbatim>
                                    <h:outputText value="#{msgs.prozessverwaltung}"/>
                                </h:panelGroup>
                            </h:panelGrid>

                            <table border="0" align="center" width="100%" cellpadding="15">
                                <tr>
                                    <td>

                                        <!-- Überschrift -->
                                        <h3>
                                            <h:outputText value="#{msgs.nachEinemBandSuchen}"/>
                                        </h3>

                                        <!-- globale Warn- und Fehlermeldungen -->
                                        <h:messages globalOnly="true" errorClass="text_red" infoClass="text_blue"
                                                    showDetail="true" showSummary="true" tooltip="true"/>

                                        <!-- ===================== Eingabe der Suchparameter ====================== -->
                                        <table cellpadding="3" cellspacing="0" width="100%" class="eingabeBoxen">

                                            <tr>
                                                <td class="eingabeBoxen_row1" colspan="2">
                                                    <h:outputText value="#{msgs.suche}"/>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td class="eingabeBoxen_row2" colspan="2">
                                                    <h:panelGrid id="extended" columns="2"
                                                                 rendered="#{ProzessverwaltungForm.initialize}">

                                                        <!-- process title -->
                                                        <h:outputText value="#{msgs.title}: "/>
                                                        <h:panelGroup>
                                                            <h:selectOneMenu value="#{SearchForm.processOperand}"
                                                                             style="width:115px; margin-right:3px">
                                                                <f:selectItems value="#{SearchForm.operands}"/>
                                                            </h:selectOneMenu>
                                                            <h:inputText value="#{SearchForm.processTitle}"
                                                                         style="width:570px"/>

                                                        </h:panelGroup>

                                                        <!--projects -->
                                                        <h:outputText value="#{msgs.projects}: "/>
                                                        <h:panelGroup>
                                                            <h:selectOneMenu value="#{SearchForm.projectOperand}"
                                                                             style="width:115px; margin-right:3px">
                                                                <f:selectItems value="#{SearchForm.operands}"/>
                                                            </h:selectOneMenu>

                                                            <h:selectOneMenu value="#{SearchForm.project}" style="width:570px">
                                                                <f:selectItem itemValue="#{null}" itemLabel="#{msgs.notSelected}" noSelectionOption="true"/>
                                                                <f:selectItems id="pcid11" value="#{SearchForm.projects}"
                                                                                var="project" itemLabel="#{project}"
                                                                                itemValue="#{project}"/>
                                                            </h:selectOneMenu>
                                                        </h:panelGroup>

                                                        <!-- process property -->
                                                        <h:outputText value="#{msgs.processProperties}: "/>
                                                        <h:panelGroup>
                                                            <h:selectOneMenu value="#{SearchForm.processPropertyOperand}"
                                                                             style="width:115px; margin-right:3px">
                                                                <f:selectItems value="#{SearchForm.operands}"/>
                                                            </h:selectOneMenu>
                                                            <h:panelGroup>
                                                                <h:selectOneMenu value="#{SearchForm.processPropertyTitle}"
                                                                                 style="width:175px; margin-right:3px">
                                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.notSelected}" noSelectionOption="true"/>
                                                                    <f:selectItems value="#{SearchForm.processPropertyTitles}"
                                                                                    var="proc" itemLabel="#{proc}"
                                                                                    itemValue="#{proc}"/>
                                                                </h:selectOneMenu>
                                                                <h:inputText value="#{SearchForm.processPropertyValue}"
                                                                             style="width:394px"/>
                                                            </h:panelGroup>
                                                        </h:panelGroup>

                                                        <!-- masterpiece property -->
                                                        <h:outputText value="#{msgs.masterpieceProperties}: "/>
                                                        <h:panelGroup>
                                                            <h:selectOneMenu value="#{SearchForm.masterpiecePropertyOperand}"
                                                                             style="width:115px; margin-right:3px">
                                                                <f:selectItems value="#{SearchForm.operands}"/>
                                                            </h:selectOneMenu>
                                                            <h:panelGroup>
                                                                <h:selectOneMenu value="#{SearchForm.masterpiecePropertyTitle}"
                                                                                 style="width:175px; margin-right:3px">
                                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.notSelected}" noSelectionOption="true"/>
                                                                    <f:selectItems
                                                                            value="#{SearchForm.masterpiecePropertyTitles}"
                                                                            var="work" itemLabel="#{work}" itemValue="#{work}"/>
                                                                </h:selectOneMenu>
                                                                <h:inputText value="#{SearchForm.masterpiecePropertyValue}"
                                                                             style="width:394px"/>
                                                            </h:panelGroup>
                                                        </h:panelGroup>
                                                        <!-- template property -->
                                                        <h:outputText value="#{msgs.templateProperty}: "/>
                                                        <h:panelGroup>
                                                            <h:selectOneMenu value="#{SearchForm.templatePropertyOperand}"
                                                                             style="width:115px; margin-right:3px">
                                                                <f:selectItems value="#{SearchForm.operands}"/>
                                                            </h:selectOneMenu>
                                                            <h:panelGroup>
                                                                <h:selectOneMenu value="#{SearchForm.templatePropertyTitle}"
                                                                                 style="width:175px; margin-right:3px">
                                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.notSelected}" noSelectionOption="true"/>
                                                                    <f:selectItems value="#{SearchForm.templatePropertyTitles}"
                                                                                    var="temp" itemLabel="#{temp}"
                                                                                    itemValue="#{temp}"/>
                                                                </h:selectOneMenu>
                                                                <h:inputText value="#{SearchForm.templatePropertyValue}"
                                                                             style="width:394px"/>
                                                            </h:panelGroup>
                                                        </h:panelGroup>
                                                        <!--steps -->
                                                        <h:outputText value="#{msgs.step}: "/>
                                                        <h:panelGroup>
                                                            <h:selectOneMenu value="#{SearchForm.stepOperand}"
                                                                             style="width:115px; margin-right:3px">
                                                                <f:selectItems value="#{SearchForm.operands}"/>
                                                            </h:selectOneMenu>
                                                            <h:panelGroup>
                                                                <h:selectOneMenu value="#{SearchForm.status}"
                                                                                 style="width:175px; margin-right:3px">
                                                                    <f:selectItems value="#{SearchForm.stepstatus}"
                                                                                    var="stepstatus"
                                                                                    itemLabel="#{msgs.get(stepstatus.title)}"
                                                                                    itemValue="#{stepstatus.searchString}"/>
                                                                </h:selectOneMenu>
                                                                <h:selectOneMenu value="#{SearchForm.stepname}"
                                                                                 style="width:394px">
                                                                    <f:selectItem itemValue="#{null}" itemLabel="#{msgs.notSelected}" noSelectionOption="true"/>
                                                                    <f:selectItems value="#{SearchForm.stepTitles}"
                                                                                    var="stepTitles" itemLabel="#{stepTitles}"
                                                                                    itemValue="#{stepTitles}"/>
                                                                </h:selectOneMenu>
                                                            </h:panelGroup>
                                                        </h:panelGroup>
                                                        <!-- user -->
                                                        <h:outputText value="#{msgs.stepDoneByUser}: "
                                                                      rendered="#{HelperForm.userStepDoneSearchEnabled}"/>
                                                        <h:panelGroup rendered="#{HelperForm.userStepDoneSearchEnabled}">
                                                            <h:selectOneMenu value="#{SearchForm.stepdoneuser}">
                                                                <f:selectItems value="#{SearchForm.user}"
                                                                                var="user" itemLabel="#{user.fullName}"
                                                                                itemValue="#{user.login}"/>
                                                            </h:selectOneMenu>
                                                            <h:selectOneMenu value="#{SearchForm.stepdonetitle}">
                                                                <f:selectItems value="#{SearchForm.stepTitles}"
                                                                                var="stepTitles" itemLabel="#{stepTitles}"
                                                                                itemValue="#{stepTitles}"/>
                                                            </h:selectOneMenu>
                                                        </h:panelGroup>

                                                        <!-- process id -->
                                                        <h:outputText value="#{msgs.id}: "/>
                                                        <h:inputText value="#{SearchForm.idin}" style="width:690px"/>

                                                        <h:outputText value="#{msgs.showArchivedProjects}:"
                                                                      rendered="#{(LoginForm.maximaleBerechtigung == 1)}"/>
                                                        <h:selectBooleanCheckbox
                                                                value="#{ProzessverwaltungForm.showArchivedProjects}"
                                                                rendered="#{(LoginForm.maximaleBerechtigung == 1)}"/>

                                                        <h:outputText value="#{msgs.showClosedProcesses}:"/>
                                                        <h:selectBooleanCheckbox
                                                                value="#{ProzessverwaltungForm.showClosedProcesses}"/>

                                                    </h:panelGrid>


                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="eingabeBoxen_row3" align="left">
                                                    <h:commandButton value="#{msgs.clear}" action="ProzessverwaltungSuche"
                                                                     immediate="true">
                                                    </h:commandButton>
                                                </td>

                                                <td class="eingabeBoxen_row3" align="right">
                                                    <h:commandButton id="absenden" action="#{SearchForm.filter}"
                                                                     title="#{msgs.filterAnwenden}"
                                                                     value="#{msgs.filterAnwenden}">
                                                    </h:commandButton>
                                                </td>
                                            </tr>
                                        </table>

                                        <!-- ===================== // Eingabe der Suchparameter ====================== -->

                                    </td>
                                </tr>
                            </table>
                        </h:form>
                        <!-- ++++++++++++++++    // Inhalt      ++++++++++++++++ -->

                    </td>
                </tr>
                <ui:include src="inc/tbl_Fuss.xhtml" />
            </table>

        </h:body>
    </f:view>

</html>



