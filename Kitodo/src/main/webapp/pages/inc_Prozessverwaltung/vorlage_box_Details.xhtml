<!--
 *
 * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>
 *
 * This file is part of the Kitodo project.
 *
 * It is licensed under GNU General Public License version 3 or later.
 *
 * For the full copyright and license information, please read the
 * GPL3-License.txt file that was distributed with this source code.
 *
-->

<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:p="http://primefaces.org/ui"
    >

    <p:importEnum type="org.kitodo.enums.ObjectMode" var="objectMode"/>

    <ui:fragment rendered="#{ProzessverwaltungForm.editMode.mode != 'template'}">
        <table cellpadding="3" cellspacing="0" width="100%"
                       class="main_statistikboxen">
            <tr>
                <td class="main_statistikboxen_row1">
                    <h:outputText value="#{msgs.vorlage}"/>
                </td>
                <td class="main_statistikboxen_row1" align="right">
                    <h:commandLink action="#{ProzessverwaltungForm.reload}">
                        <h:graphicImage value="/pages/images/reload.gif" alt="reload"/>
                    </h:commandLink>
                </td>
            </tr>

            <tr>
                <td class="main_statistikboxen_row2" colspan="2">

                    <table border="0" width="90%" cellpadding="2">
                        <tr>
                            <td width="150">
                                <h:outputText value="#{msgs.herkunft}:"/>
                            </td>
                            <td>
                                <h:outputText value="#{ProzessverwaltungForm.template.origin}"/>
                            </td>
                            <td rowspan="2" align="right">
                                <h:commandLink title="#{msgs.bearbeiten}" action="#{NavigationForm.reload}">
                                    <h:graphicImage value="/pages/images/buttons/edit_20.gif" alt="edit"/>
                                    <t:updateActionListener
                                            property="#{ProzessverwaltungForm.editMode}" value="#{objectMode.TEMPLATE}"/>
                                </h:commandLink>

                                <h:commandLink title="#{msgs.loeschen}"
                                               action="#{ProzessverwaltungForm.VorlageLoeschen}"
                                               style="margin-right:20px">
                                    <h:graphicImage value="/pages/images/buttons/waste1a_20px.gif" alt="delete"/>
                                </h:commandLink>
                            </td>
                        </tr>

                    </table>
                </td>
            </tr>
        </table>
    </ui:fragment>

    <!-- Box für die Bearbeitung der Details -->
    <ui:fragment rendered="#{ProzessverwaltungForm.editMode.mode == 'template'}">
        <table cellpadding="3" cellspacing="0" width="100%" class="eingabeBoxen">

            <tr>
                <td class="eingabeBoxen_row1" colspan="2">
                    <h:outputText value="#{msgs.vorlage}"/>
                </td>
            </tr>

            <h:form id="vorform" onkeypress="ifEnterClick(event, 'vorform2:vorform:absenden');">
                <!-- Formular für die Bearbeitung der Vorlage -->
                <tr>
                    <td class="eingabeBoxen_row2" colspan="2">
                        <h:panelGrid columns="2">

                            <!-- Felder -->
                            <h:outputLabel for="titel2" value="#{msgs.herkunft}"/>
                            <h:panelGroup>
                                <h:inputText id="titel2" style="width: 300px;margin-right:15px"
                                             value="#{ProzessverwaltungForm.template.origin}"
                                             required="true"/>
                                <t:message for="titel2" style="color: red"
                                           replaceIdWithLabel="true"/>
                            </h:panelGroup>

                        </h:panelGrid>

                    </td>
                </tr>

                <tr>
                    <td class="eingabeBoxen_row3" align="left">
                        <h:commandButton value="#{msgs.abbrechen}" immediate="true" action="#{NavigationForm.reload}">
                            <t:updateActionListener
                                    property="#{ProzessverwaltungForm.editMode}" value="#{objectMode.NONE}"/>
                        </h:commandButton>
                    </td>
                    <td class="eingabeBoxen_row3" align="right">
                        <h:commandButton value="#{msgs.uebernehmen}" id="absenden"
                                         action="#{ProzessverwaltungForm.VorlageUebernehmen}">
                            <t:updateActionListener
                                    property="#{ProzessverwaltungForm.editMode}" value="#{objectMode.NONE}"/>
                        </h:commandButton>
                    </td>
                </tr>
            </h:form>
        </table>
    </ui:fragment>
    <!-- // Box für die Bearbeitung der Details -->
</ui:composition>
