<!--
 *
 * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>
 *
 * This file is part of the Kitodo project.
 *
 * It is licensed under GNU General Public License version 3 or later.
 *
 * For the full copyright and license information, please read the
 * GPL3-License.txt file that was distributed with this source code.
 *
-->

<ui:composition
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:p="http://primefaces.org/ui">
    <p:panel>
        <p:selectBooleanButton
                onLabel="#{msgs.locked}" offLabel="#{msgs.unlocked}"
                onIcon="fa fa-lock fa-lg" offIcon="fa fa-unlock fa-lg"
                value="#{ProjekteForm.lockedMets}">
            <p:ajax event="change" update="metsParamaterForm mets-file-groups" />
        </p:selectBooleanButton>
    </p:panel>
    <p:panelGrid id="metsParamaterForm" columns="2" cellpadding="10" layout="grid">
        <p:row>
            <div>
                <p:outputLabel for="metsRightsOwner" value="#{msgs.metsRightsOwner}" />
                <p:inputText id="metsRightsOwner" placeholder="#{msgs.metsRightsOwner}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsRightsOwner}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsRightsOwnerButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsRightsOwnerButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsRightsOwner')" disabled="#{empty ProjekteForm.myProjekt.metsRightsOwner}"/>
            </div>
            <div>
                <p:outputLabel for="metsRightsOwnerUrl" value="#{msgs.metsRightsOwnerSite}" />
                <p:inputText id="metsRightsOwnerUrl" placeholder="#{msgs.metsRightsOwnerSite}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsRightsOwnerSite}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsRightsOwnerUrlButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsRightsOwnerUrlButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsRightsOwnerUrl')" disabled="#{empty ProjekteForm.myProjekt.metsRightsOwnerSite}"/>
            </div>
            <div>
                <p:outputLabel for="metsDigiprovReference" value="#{msgs.metsDigiprovReference}" />
                <p:inputText id="metsDigiprovReference" placeholder="#{msgs.metsDigiprovReference}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsDigiprovReference}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsDigiprovReferenceButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsDigiprovReferenceButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsDigiprovReference')" disabled="#{empty ProjekteForm.myProjekt.metsDigiprovReference}"/>
            </div>
            <div>
                <p:outputLabel for="metsDigiprovReferenceAnchor" value="#{msgs.metsDigiprovReferenceAnchor}" />
                <p:inputText id="metsDigiprovReferenceAnchor" placeholder="#{msgs.metsDigiprovReferenceAnchor}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsDigiprovReferenceAnchor}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsDigiprovReferenceAnchorButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsDigiprovReferenceAnchorButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsDigiprovReferenceAnchor')" disabled="#{empty ProjekteForm.myProjekt.metsDigiprovReferenceAnchor}"/>
            </div>
            <div>
                <p:outputLabel for="metsPointerPath" value="#{msgs.metsPointerPath}" />
                <p:inputText id="metsPointerPath" placeholder="#{msgs.metsPointerPath}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsPointerPath}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsPointerPathButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsPointerPathButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsPointerPath')" disabled="#{empty ProjekteForm.myProjekt.metsPointerPath}"/>
            </div>
            <div>
                <p:outputLabel for="metsPurl" value="#{msgs.metsPurl}" />
                <p:inputText id="metsPurl" placeholder="#{msgs.metsPurl}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsPurl}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsPurlButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsPurlButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsPurl')" disabled="#{empty ProjekteForm.myProjekt.metsPurl}"/>
            </div>
        </p:row>
        <p:row>
            <div>
                <p:outputLabel for="metsRightsOwnerLogo" value="#{msgs.metsRightsOwnerLogo}" />
                <p:inputText id="metsRightsOwnerLogo" placeholder="#{msgs.metsRightsOwnerLogo}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsRightsOwnerLogo}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsRightsOwnerLogoButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsRightsOwnerLogoButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsRightsOwnerLogo')" disabled="#{empty ProjekteForm.myProjekt.metsRightsOwnerLogo}"/>
            </div>
            <div>
                <p:outputLabel for="metsRightsOwnerContact" value="#{msgs.metsRightsOwnerMail}" />
                <p:inputText id="metsRightsOwnerContact" placeholder="#{msgs.metsRightsOwnerMail}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsRightsOwnerMail}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsRightsOwnerContactButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsRightsOwnerContactButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsRightsOwnerContact')" disabled="#{empty ProjekteForm.myProjekt.metsRightsOwnerMail}"/>
            </div>
            <div>
                <p:outputLabel for="metsDigiprovPresentation" value="#{msgs.metsDigiprovPresentation}" />
                <p:inputText id="metsDigiprovPresentation" placeholder="#{msgs.metsDigiprovPresentation}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsDigiprovPresentation}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsDigiprovPresentationButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsDigiprovPresentationButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsDigiprovPresentation')" disabled="#{empty ProjekteForm.myProjekt.metsDigiprovPresentation}"/>
            </div>
            <div>
                <p:outputLabel for="metsPresentationAnchor" value="#{msgs.metsDigiprovPresentationAnchor}" />
                <p:inputText id="metsPresentationAnchor" placeholder="#{msgs.metsDigiprovPresentationAnchor}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsDigiprovPresentationAnchor}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsPresentationAnchorButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsPresentationAnchorButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsPresentationAnchor')" disabled="#{empty ProjekteForm.myProjekt.metsDigiprovPresentationAnchor}"/>
            </div>
            <div>
                <p:outputLabel for="metsPointerPathAnchor" value="#{msgs.metsPointerPathAnchor}" />
                <p:inputText id="metsPointerPathAnchor" placeholder="#{msgs.metsPointerPathAnchor}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsPointerPathAnchor}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsPointerPathAnchorButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsPointerPathAnchorButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsPointerPathAnchor')" disabled="#{empty ProjekteForm.myProjekt.metsPointerPathAnchor}"/>
            </div>
            <div>
                <p:outputLabel for="metsContentId" value="#{msgs.metsContentIDs}" />
                <p:inputText id="metsContentId" placeholder="#{msgs.metsContentIDs}" styleClass="input-with-button" value="#{ProjekteForm.myProjekt.metsContentIDs}" disabled="#{ProjekteForm.lockedMets}">
                    <p:ajax event="blur"/>
                    <p:ajax event="keyup" update="editForm:tabs:copyMetsContentIdButton"/>
                </p:inputText>
                <p:commandButton id="copyMetsContentIdButton" type="button" icon="fa fa-copy" onclick="copyToClipboard('editForm:tabs:metsContentId')" disabled="#{empty ProjekteForm.myProjekt.metsContentIDs}"/>
            </div>
        </p:row>
    </p:panelGrid>
    <!-- mets file groups -->
    <p:panel id="mets-file-groups" styleClass="mets-file-groups">
        <p:dataTable id="filegroupTable" var="filegroup" value="#{ProjekteForm.fileGroupList}">
            <p:column headerText="#{msgs.metsfilegroups}">
                <h:outputText value="#{filegroup.name}" />
            </p:column>
            <p:column>
                <!-- edit button -->
                <p:commandLink oncomplete="PF('editFileGroupDialog').show()"
                               styleClass="buttonset button-blue"
                               update="@(.editDialog)"
                               disabled="#{ProjekteForm.lockedMets}"
                               immediate="true">
                    <i class="fa fa-pencil-square-o fa-lg"/>
                    <f:setPropertyActionListener target="#{ProjekteForm.myFilegroup}"
                                                 value="#{filegroup}"/>
                </p:commandLink>
                <!-- delete button -->
                <p:commandLink action="#{ProjekteForm.deleteFileGroup()}"
                               update="editForm"
                               title="#{msgs.fileGroupDelete}"
                               onclick="if (!confirm('#{msgs.sollDieserEintragWirklichGeloeschtWerden}')) return"
                               oncomplete="toggleSave()"
                               styleClass="buttonset button-blue" disabled="#{ProjekteForm.lockedMets}"
                               immediate="true">
                    <h:outputText><i class="fa fa-trash fa-lg"/></h:outputText>
                    <f:setPropertyActionListener target="#{ProjekteForm.myFilegroup}"
                                                 value="#{filegroup}"/>
                </p:commandLink>
            </p:column>
        </p:dataTable>
        <!-- add button -->
        <p:commandButton actionListener="#{ProjekteForm.addFileGroup()}"
                         update="@(.editDialog)"
                         oncomplete="PF('editFileGroupDialog').show()"
                         value="#{msgs.fileGroupAdd}"
                         styleClass="button-filled-green"
                         icon="fa fa-plus-circle fa-lg"
                         iconPos="right"
                         disabled="#{ProjekteForm.lockedMets}"
                         immediate="true">
            <f:setPropertyActionListener target="#{ProjekteForm.zurueck}"
                                         value="/pages/projectEditMetsPopup"/>
        </p:commandButton>
    </p:panel>
</ui:composition>
